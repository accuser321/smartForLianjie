# 接口覆盖报告（第2轮）

- 时间：2026-02-20
- 范围：`frontend/src/api/**/*.js` 与 `backend/src/main/java/com/nh/smart/controller/**/*.java` 路径映射比对
- 结果：前端 API 路径 `96` 条，后端可匹配路径 `183` 条，未匹配 `0` 条

## 本轮新增兼容接口
- `AuthController`：补齐 query 兼容
  - `/saas/auth/changePhone?phone=...`
  - `/saas/auth/register?phone=...`
  - `/saas/auth/msglogin?phone=...`
- `V2CompatActionController`
  - `/abt/abtComKjActionRecord/getNowDayCount`
- 新增控制器
  - `V2CompatUserCardController`
  - `V2CompatHxController`
  - `V2CompatActivityController`
  - `V2CompatYqhSignupController`
  - `V2CompatCouponController`
  - `V2CompatSaasMiscController`

## 说明
- 本轮目标是“接口层可联调”，因此部分接口返回占位/空集合结构。
- 进入真实业务联调（尤其客户、消息、提醒、提现、卡券）前，需要本机安装 MySQL 并导入完整库。

## 第3轮进展（核心接口从占位升级为真实查询）
- `V2CompatActionController` 的以下接口已接入数据库查询（非占位返回）：
  - `/abt/abtComKjActionRecord/getCommunicationKH`
  - `/abt/abtComKjActionRecord/getRecentlyKH`
  - `/abt/abtComKjActionRecord/getStandardKH`
  - `/abt/abtComKjActionRecord/getColleague`
- 数据来源：`smart_com_kj_custom_empship` 联表 `smart_com_kj_custom_basemsg` / `smart_com_muser` / `smart_com_empno`
- 新增 DAO/Mapper 方法：`SmartKjCustomEmpshipDao.selectCustomPage`

### 提醒
以上 4 个接口要看真实结果，必须安装 MySQL 并导入完整库；未装库时接口会回退到空列表结构。

## 第4轮进展（继续核心链路）
- `V2CompatActionController`：
  - `/abt/abtComKjActionRecord/getFollowList`：已从占位改为 DB 查询并按日期分组返回
  - `/abt/abtComKjActionRecord/insertFollow`：已实现写入跟进记录
  - `/abt/abtComKjActionRecord/deleteFollow`：已实现按 id 删除跟进记录
  - `/abt/abtComKjActionRecord/getInteractiveList`：已从占位改为 DB 查询并按日期分组返回
- 新增/扩展 DAO 与 SQL：
  - `SmartComWxmsgDao.selectFollowList/deleteFollowById`
  - `SmartComKjActionRecordDao.selectInteractiveList`

### 备注
- 当前你可继续不安装 MySQL，先推进代码开发；
- 当你准备看真实列表数据时，再安装 MySQL 并导入完整库。
